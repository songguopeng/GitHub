#include<iostream>
#include<algorithm>
#include<fstream>
#include<string>
#include<vector>
#include<iterator>
using namespace std;

struct student
{
	int no;
	string name;
	int chinese;
	int math;
public:
	bool operator <(const student &s)
	{
		if (no == s.no)
		{
			math = s.math;
		}
		return no < s.no;
	}
};
ostream &operator<<(ostream& os, const student &s)
{
	os << s.no <<"\t"<< s.name <<"\t"<< s.chinese <<"\t"<< s.math << endl;
	return os;
}
int main(int argc, char *argv[])
{
	vector<student>v1;
	vector<student>v2;
	vector<student>v3;
	fstream in1("D:\\chinese.txt");
	fstream in2("D:\\math.txt");
	if (!in1 || !in2)
		return 0;
	while (!in1.eof())//注意回车会多读一行空的
	{
		student s;
		in1 >> s.no >> s.name >> s.chinese;
		v1.push_back(s);
	}
	while (!in2.eof())
	{
		student s;
		in2 >> s.no >> s.name >> s.math;
		v2.push_back(s);
	}
	in1.close();
	in2.close();
	set_union(v1.begin(), v1.end(), v2.begin(), v2.end(), v1.begin());
	copy(v1.begin(), v1.end(), ostream_iterator<student>(cout));
	system("pause");
	return 0;

}